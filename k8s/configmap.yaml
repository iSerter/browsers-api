apiVersion: v1
kind: ConfigMap
metadata:
  name: api-config
  namespace: browsers-api
data:
  # Application
  NODE_ENV: "production"
  PORT: "3333"
  API_PREFIX: "api/v1"
  
  # Database
  DB_HOST: "postgres"
  DB_PORT: "5432"
  DB_USERNAME: "automation_user"
  DB_DATABASE: "browser_automation"
  DB_POOL_MIN: "1"
  DB_POOL_MAX: "20"
  
  # Worker Configuration
  WORKER_POLL_INTERVAL_MS: "1000"
  WORKER_MAX_CONCURRENT_JOBS: "10"
  BROWSER_POOL_MIN_SIZE: "1"
  BROWSER_POOL_MAX_SIZE: "5"
  BROWSER_IDLE_TIMEOUT_MS: "300000"
  
  # Job Configuration
  DEFAULT_JOB_TIMEOUT_MS: "30000"
  MAX_JOB_RETRIES: "3"
  JOB_CLEANUP_AFTER_DAYS: "7"
  
  # Storage
  ARTIFACT_STORAGE_TYPE: "filesystem"
  ARTIFACT_STORAGE_PATH: "/app/artifacts"
  MAX_ARTIFACT_SIZE_MB: "50"
  
  # Playwright
  PLAYWRIGHT_HEADLESS: "true"
  PLAYWRIGHT_TIMEOUT_MS: "30000"
  PLAYWRIGHT_SCREENSHOTS_DIR: "/app/screenshots"
  
  # Security
  API_KEY_HEADER: "X-API-Key"
  RATE_LIMIT_MAX: "100"
  RATE_LIMIT_WINDOW_MS: "60000"
  
  # Monitoring
  ENABLE_METRICS: "true"
  METRICS_PORT: "9090"
  LOG_LEVEL: "info"
